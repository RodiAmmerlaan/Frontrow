{"version":3,"file":"dateFilterUtils.js","sourceRoot":"","sources":["../../../src/utils/dateFilterUtils.ts"],"names":[],"mappings":";;AAUA,gEAwBC;AA7BD;;;;GAIG;AACH,SAAgB,0BAA0B,CAAC,MAAwB;IAC/D,MAAM,WAAW,GAAQ,EAAE,CAAC;IAE5B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC;IAE/B,IAAI,KAAK,IAAI,IAAI,EAAE,CAAC;QAChB,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAE1D,WAAW,CAAC,UAAU,GAAG;YACrB,GAAG,EAAE,SAAS;YACd,GAAG,EAAE,OAAO;SACf,CAAC;IACN,CAAC;SAAM,IAAI,IAAI,EAAE,CAAC;QACd,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAExD,WAAW,CAAC,UAAU,GAAG;YACrB,GAAG,EAAE,SAAS;YACd,GAAG,EAAE,OAAO;SACf,CAAC;IACN,CAAC;IAED,OAAO,WAAW,CAAC;AACvB,CAAC","sourcesContent":["export interface DateFilterParams {\r\n    month?: number;\r\n    year?: number;\r\n}\r\n\r\n/**\r\n * Builds a Prisma where clause for filtering data by date\r\n * @param params - The date filter parameters containing month and/or year\r\n * @returns A Prisma where clause object for date filtering\r\n */\r\nexport function buildDateFilterWhereClause(params: DateFilterParams): any {\r\n    const whereClause: any = {};\r\n    \r\n    const { month, year } = params;\r\n    \r\n    if (month && year) {\r\n        const startDate = new Date(year, month - 1, 1);\r\n        const endDate = new Date(year, month, 0, 23, 59, 59, 999);\r\n        \r\n        whereClause.created_at = {\r\n            gte: startDate,\r\n            lte: endDate\r\n        };\r\n    } else if (year) {\r\n        const startDate = new Date(year, 0, 1);\r\n        const endDate = new Date(year, 11, 31, 23, 59, 59, 999);\r\n        \r\n        whereClause.created_at = {\r\n            gte: startDate,\r\n            lte: endDate\r\n        };\r\n    }\r\n    \r\n    return whereClause;\r\n}"]}