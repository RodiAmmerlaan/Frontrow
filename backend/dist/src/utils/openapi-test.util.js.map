{"version":3,"file":"openapi-test.util.js","sourceRoot":"","sources":["../../../src/utils/openapi-test.util.ts"],"names":[],"mappings":";;;;;AAOA,kDA+BC;AAtCD,kEAAyC;AACzC,8EAAqD;AAErD;;;GAGG;AACI,KAAK,UAAU,mBAAmB;IACvC,IAAI,CAAC;QACH,MAAM,KAAK,GAAQ,IAAA,uBAAY,EAAC,wBAAa,CAAC,CAAC;QAE/C,oDAAoD;QACpD,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YACnB,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;YACzC,OAAO,KAAK,CAAC;QACf,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAChB,OAAO,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAClC,OAAO,KAAK,CAAC;QACf,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YACjB,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;YACnC,OAAO,KAAK,CAAC;QACf,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;QAC5D,OAAO,CAAC,GAAG,CAAC,oBAAoB,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,cAAc,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,gBAAgB,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QAClD,OAAO,CAAC,GAAG,CAAC,oBAAoB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;QAEnE,OAAO,IAAI,CAAC;IACd,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,yCAAyC,EAAE,KAAK,CAAC,CAAC;QAChE,OAAO,KAAK,CAAC;IACf,CAAC;AACH,CAAC;AAED,mDAAmD;AACnD,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;IAC5B,mBAAmB,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;QACnC,IAAI,OAAO,EAAE,CAAC;YACZ,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;YAC9C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,KAAK,CAAC,kCAAkC,CAAC,CAAC;YAClD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC","sourcesContent":["import swaggerJsdoc from 'swagger-jsdoc';\r\nimport openApiConfig from '../config/openapi.config';\r\n\r\n/**\r\n * Utility function to test OpenAPI specification generation\r\n * This can be used to verify that the OpenAPI spec is valid\r\n */\r\nexport async function validateOpenApiSpec(): Promise<boolean> {\r\n  try {\r\n    const specs: any = swaggerJsdoc(openApiConfig);\r\n    \r\n    // Basic validation - check if required fields exist\r\n    if (!specs.openapi) {\r\n      console.error('OpenAPI version missing');\r\n      return false;\r\n    }\r\n    \r\n    if (!specs.info) {\r\n      console.error('API info missing');\r\n      return false;\r\n    }\r\n    \r\n    if (!specs.paths) {\r\n      console.error('API paths missing');\r\n      return false;\r\n    }\r\n    \r\n    console.log('OpenAPI specification generated successfully');\r\n    console.log(`OpenAPI Version: ${specs.openapi}`);\r\n    console.log(`API Title: ${specs.info.title}`);\r\n    console.log(`API Version: ${specs.info.version}`);\r\n    console.log(`Number of paths: ${Object.keys(specs.paths).length}`);\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error generating OpenAPI specification:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Run validation if this file is executed directly\r\nif (require.main === module) {\r\n  validateOpenApiSpec().then(isValid => {\r\n    if (isValid) {\r\n      console.log('OpenAPI specification is valid');\r\n      process.exit(0);\r\n    } else {\r\n      console.error('OpenAPI specification is invalid');\r\n      process.exit(1);\r\n    }\r\n  });\r\n}"]}