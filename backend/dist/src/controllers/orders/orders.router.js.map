{"version":3,"file":"orders.router.js","sourceRoot":"","sources":["../../../../src/controllers/orders/orders.router.ts"],"names":[],"mappings":";;;;;;AAAA,qCAAiC;AACjC,mEAAqD;AACrD,uEAAyD;AACzD,yEAA2D;AAC3D,sEAAgE;AAChE,kFAA4F;AAC5F,8CAAsB;AAEtB,MAAM,aAAa,GAAG,aAAG,CAAC,MAAM,CAAC;IAC/B,OAAO,EAAE,yCAAiB,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;CAC7C,CAAC,CAAC;AAEH,MAAM,YAAY,GAAG,aAAG,CAAC,MAAM,CAAC;IAC9B,MAAM,EAAE,yCAAiB,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;CAC5C,CAAC,CAAC;AAEH,MAAM,gBAAgB,GAAG,aAAG,CAAC,MAAM,CAAC;IAClC,QAAQ,EAAE,yCAAiB,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;IAC7C,OAAO,EAAE,yCAAiB,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;IAC5C,YAAY,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CAC7C,CAAC,CAAC;AAEU,QAAA,YAAY,GAAG,IAAA,gBAAM,GAAE,CAAC;AAErC,oBAAY,CAAC,IAAI,CAAC,cAAc,EAC9B,8BAAY,EACZ,IAAA,uCAAe,EAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EACrE,kCAAU,CACX,CAAC;AAEF,oBAAY,CAAC,GAAG,CAAC,WAAW,EAC1B,8BAAY,EACZ,IAAA,uCAAe,EAAC,aAAa,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EACpE,sCAAY,CACb,CAAC;AAEF,oBAAY,CAAC,GAAG,CAAC,eAAe,EAC9B,8BAAY,EACZ,IAAA,uCAAe,EAAC,YAAY,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EACnE,wCAAa,CACd,CAAC","sourcesContent":["import { Router } from 'express';\r\nimport { buyTickets } from './buyTickets.controller';\r\nimport { getOrderById } from './getOrderById.controller';\r\nimport { getUserOrders } from './getUserOrders.controller';\r\nimport { authenticate } from '../../middleware/auth.middleware';\r\nimport { validateRequest, ValidationSchemas } from '../../middleware/validation.middleware';\r\nimport Joi from 'joi';\r\n\r\nconst orderIdSchema = Joi.object({\r\n  orderId: ValidationSchemas.uuid().required()\r\n});\r\n\r\nconst userIdSchema = Joi.object({\r\n  userId: ValidationSchemas.uuid().required()\r\n});\r\n\r\nconst buyTicketsSchema = Joi.object({\r\n  event_id: ValidationSchemas.uuid().required(),\r\n  user_id: ValidationSchemas.uuid().required(),\r\n  total_amount: Joi.number().min(1).required()\r\n});\r\n\r\nexport const ordersRouter = Router();\r\n\r\nordersRouter.post(\"/buy-tickets\", \r\n  authenticate,\r\n  validateRequest(buyTicketsSchema, { source: 'body', sanitize: true }),\r\n  buyTickets\r\n);\r\n\r\nordersRouter.get(\"/:orderId\", \r\n  authenticate,\r\n  validateRequest(orderIdSchema, { source: 'params', sanitize: true }),\r\n  getOrderById\r\n);\r\n\r\nordersRouter.get(\"/user/:userId\", \r\n  authenticate,\r\n  validateRequest(userIdSchema, { source: 'params', sanitize: true }),\r\n  getUserOrders\r\n);"]}