{"version":3,"file":"auth.router.js","sourceRoot":"","sources":["../../../src/controllers/auth/auth.router.ts"],"names":[],"mappings":";;;;;;AAAA,qCAAiC;AACjC,yDAA2C;AAC3C,6DAAyD;AACzD,2DAAuD;AACvD,uEAAmE;AACnE,6DAA4D;AAC5D,sEAAgE;AAChE,kFAA4F;AAC5F,8CAAsB;AAEtB,MAAM,WAAW,GAAG,aAAG,CAAC,MAAM,CAAC;IAC7B,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE;IACtC,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CACzC,CAAC,CAAC;AAEH,MAAM,kBAAkB,GAAG,aAAG,CAAC,MAAM,CAAC;IACpC,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE;IACtC,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;IACxC,UAAU,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;IAClD,SAAS,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;IACjD,MAAM,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE;IAC/C,YAAY,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;IACpD,WAAW,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;IACnD,IAAI,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;CAC7C,CAAC,CAAC;AAEU,QAAA,UAAU,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEnC,kBAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAA,uCAAe,EAAC,WAAW,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EAAE,wBAAK,CAAC,CAAC;AACnG,kBAAU,CAAC,IAAI,CAAC,UAAU,EAAE,sCAAiB,CAAC,CAAC;AAC/C,kBAAU,CAAC,IAAI,CAAC,SAAS,EAAE,oCAAgB,CAAC,CAAC;AAC7C,kBAAU,CAAC,IAAI,CAAC,WAAW,EAAE,IAAA,uCAAe,EAAC,kBAAkB,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EAAE,gDAAsB,CAAC,CAAC;AAC9H,kBAAU,CAAC,GAAG,CAAC,UAAU,EAAE,8BAAY,EAAE,yCAAoB,CAAC,CAAC","sourcesContent":["import { Router } from 'express';\r\nimport { login } from './login.controller';\r\nimport { refreshController } from './refresh.controller';\r\nimport { logoutController } from './logout.controller';\r\nimport { registrationController } from './registration.controller';\r\nimport { getProfileController } from './profile.controller';\r\nimport { authenticate } from '../../middleware/auth.middleware';\r\nimport { validateRequest, ValidationSchemas } from '../../middleware/validation.middleware';\r\nimport Joi from 'joi';\r\n\r\nconst loginSchema = Joi.object({\r\n  email: Joi.string().email().required(),\r\n  password: Joi.string().min(8).required()\r\n});\r\n\r\nconst registrationSchema = Joi.object({\r\n  email: Joi.string().email().required(),\r\n  password: Joi.string().min(8).required(),\r\n  first_name: Joi.string().min(1).max(50).required(),\r\n  last_name: Joi.string().min(1).max(50).required(),\r\n  street: Joi.string().min(1).max(100).required(),\r\n  house_number: Joi.string().min(1).max(10).required(),\r\n  postal_code: Joi.string().min(1).max(10).required(),\r\n  city: Joi.string().min(1).max(50).required()\r\n});\r\n\r\nexport const authRouter = Router();\r\n\r\nauthRouter.post('/login', validateRequest(loginSchema, { source: 'body', sanitize: true }), login);\r\nauthRouter.post('/refresh', refreshController);\r\nauthRouter.post('/logout', logoutController);\r\nauthRouter.post('/register', validateRequest(registrationSchema, { source: 'body', sanitize: true }), registrationController);\r\nauthRouter.get('/profile', authenticate, getProfileController);"]}